#!/bin/bash
# WQL - Workspace Query Language CLI
# Wrapper for wql.py

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Find workspace directory (default: ./workspace or parent workspace/)
if [[ -d "./workspace" ]]; then
    DEFAULT_WORKSPACE="./workspace"
elif [[ -d "../workspace" ]]; then
    DEFAULT_WORKSPACE="../workspace"
else
    DEFAULT_WORKSPACE="./workspace"
fi

WORKSPACE="${WQL_WORKSPACE:-$DEFAULT_WORKSPACE}"

exec python3 "$SCRIPT_DIR/wql.py" -w "$WORKSPACE" "$@"
