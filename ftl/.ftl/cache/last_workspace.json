{
  "id": "003-verify-integration",
  "status": "complete",
  "created_at": "2026-01-15T11:13:09.044875",
  "completed_at": "2026-01-15T11:16:28.110703",
  "blocked_at": null,
  "delta": [],
  "verify": "pytest tests/test_campaign.py -v",
  "budget": 3,
  "preflight": [],
  "delivered": "Integration verification complete\n- All 30 tests passed\n- Campaign CRUD operations verified\n- Archive and history functions verified\n- Task management (add, update, next) verified",
  "prior_knowledge": {
    "failures": [
      {
        "name": "test-import-error",
        "cost": 5000,
        "trigger": "ModuleNotFoundError: No module named foo",
        "fix": "Install foo with pip install foo",
        "match": "No module named.*foo"
      },
      {
        "name": "partial-code-context-budget-exhaustion",
        "cost": 3000,
        "trigger": "Budget exhausted before implementation - code_context partial",
        "fix": "Ensure code_context includes target function lines, or increase budget by 2 for discovery",
        "match": "Budget.*exhausted.*code_context.*partial|code_context.*lines.*but.*function.*at"
      },
      {
        "name": "spec-impl-mismatch-cli-args",
        "cost": 3000,
        "trigger": "AssertionError: Archive directory not created",
        "fix": "SPEC task should verify CLI signature matches implementation before writing tests",
        "match": "invalid choice.*choose from|argument.*invalid|Archive directory not created"
      }
    ],
    "patterns": [
      {
        "name": "lazy-import-pattern",
        "saved": 10000,
        "trigger": "Circular import at runtime",
        "insight": "Move import inside function body"
      },
      {
        "name": "blocked-retry-budget-context-fix",
        "saved": 3000,
        "trigger": "BUILD task blocked on budget exhaustion with partial code_context",
        "insight": "Retry with 2x budget AND strategic code_context that includes target function lines; both are needed - budget alone without context wastes reads"
      },
      {
        "name": "verify-function-location-before-build",
        "saved": 1500,
        "trigger": "BUILD task targets existing function in large file",
        "insight": "Planner must locate target function (grep -n function_name file.py) and set code_context to include those lines; partial context forces budget waste on re-reading"
      }
    ]
  }
}
