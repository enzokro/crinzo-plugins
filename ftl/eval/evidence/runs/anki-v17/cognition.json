{
  "run_a": "anki-v13",
  "run_b": "anki-v17",
  "computed_at": "2026-01-08T10:46:53.009112",
  "comparisons": [
    {
      "step": 0,
      "type": "planner",
      "task": null,
      "a": {
        "tokens": 161202,
        "ratio": 0.3333333333333333,
        "pattern": "EEEA"
      },
      "b": {
        "tokens": 38021,
        "ratio": null,
        "pattern": "."
      },
      "token_delta": -0.7641406434163348,
      "ratio_improved": false
    },
    {
      "step": 1,
      "type": "router",
      "task": "001",
      "a": {
        "tokens": 172080,
        "ratio": 1.0,
        "pattern": "AE.EA."
      },
      "b": {
        "tokens": 178547,
        "ratio": 0.3333333333333333,
        "pattern": ".EEEA."
      },
      "token_delta": 0.03758135750813575,
      "ratio_improved": false
    },
    {
      "step": 2,
      "type": "builder",
      "task": "001",
      "a": {
        "tokens": 947961,
        "ratio": 0.2,
        "pattern": "EEEA.E.....E..."
      },
      "b": {
        "tokens": 112952,
        "ratio": null,
        "pattern": "A.A.A"
      },
      "token_delta": -0.8808474188284117,
      "ratio_improved": false
    },
    {
      "step": 3,
      "type": "router",
      "task": "002",
      "a": {
        "tokens": 172396,
        "ratio": 0.3333333333333333,
        "pattern": ".EEEA."
      },
      "b": {
        "tokens": 238295,
        "ratio": 0.0,
        "pattern": ".EEEE.."
      },
      "token_delta": 0.3822536485765331,
      "ratio_improved": false
    },
    {
      "step": 4,
      "type": "builder",
      "task": "002",
      "a": {
        "tokens": 1078980,
        "ratio": 1.0,
        "pattern": "EEE.A.A.....A"
      },
      "b": {
        "tokens": 231291,
        "ratio": 0.5,
        "pattern": "E..E...A"
      },
      "token_delta": -0.785639214813991,
      "ratio_improved": false
    },
    {
      "step": 5,
      "type": "router",
      "task": "003",
      "a": {
        "tokens": 218732,
        "ratio": 0.25,
        "pattern": "EEEEA."
      },
      "b": {
        "tokens": 155600,
        "ratio": 1.0,
        "pattern": ".EA."
      },
      "token_delta": -0.2886271784649708,
      "ratio_improved": true
    },
    {
      "step": 6,
      "type": "builder",
      "task": "003",
      "a": {
        "tokens": 351910,
        "ratio": null,
        "pattern": "..A.....A"
      },
      "b": {
        "tokens": 555556,
        "ratio": 1.0,
        "pattern": "E.........A"
      },
      "token_delta": 0.5786877326589185,
      "ratio_improved": true
    },
    {
      "step": 7,
      "type": "router",
      "task": "004",
      "a": {
        "tokens": 189033,
        "ratio": 1.0,
        "pattern": ".E.A."
      },
      "b": {
        "tokens": 228503,
        "ratio": 0.0,
        "pattern": ".EE..."
      },
      "token_delta": 0.208799521776621,
      "ratio_improved": false
    },
    {
      "step": 8,
      "type": "builder",
      "task": "004",
      "a": {
        "tokens": 102063,
        "ratio": null,
        "pattern": "..A"
      },
      "b": {
        "tokens": 104606,
        "ratio": null,
        "pattern": "...A"
      },
      "token_delta": 0.024915983265238136,
      "ratio_improved": false
    },
    {
      "step": 9,
      "type": "synthesizer",
      "task": null,
      "a": {
        "tokens": 376972,
        "ratio": 0.0,
        "pattern": ".E....."
      },
      "b": {
        "tokens": 411944,
        "ratio": 0.5,
        "pattern": "AEE....."
      },
      "token_delta": 0.09277081586961365,
      "ratio_improved": true
    }
  ],
  "recommendations": [
    {
      "type": "protocol",
      "agent": "router.md",
      "section": "Core Discipline",
      "change": "Add: \"Act within first 3 tool calls. Do not explore to understand; understand to act.\"",
      "rationale": "explore:action ratio 3:1",
      "priority": "high"
    },
    {
      "type": "protocol",
      "agent": "router.md",
      "section": "Execution",
      "change": "Add: \"After reading workspace/context, Write or Edit immediately.\"",
      "rationale": "first action at position 4",
      "priority": "medium"
    },
    {
      "type": "protocol",
      "agent": "router.md",
      "section": "Constraints",
      "change": "Add: \"Maximum 2 consecutive Reads before Write/Edit.\"",
      "rationale": "explore burst of 3 consecutive traces",
      "priority": "medium"
    },
    {
      "type": "protocol",
      "agent": "builder.md",
      "section": "Core Discipline",
      "change": "Add: \"Act within first 3 tool calls. Do not explore to understand; understand to act.\"",
      "rationale": "explore:action ratio 2:1",
      "priority": "high"
    },
    {
      "type": "protocol",
      "agent": "builder.md",
      "section": "Execution",
      "change": "Add: \"After reading workspace/context, Write or Edit immediately.\"",
      "rationale": "first action at position 7",
      "priority": "medium"
    },
    {
      "type": "protocol",
      "agent": "synthesizer.md",
      "section": "Core Discipline",
      "change": "Add: \"Act within first 3 tool calls. Do not explore to understand; understand to act.\"",
      "rationale": "explore:action ratio 2:1",
      "priority": "high"
    }
  ]
}